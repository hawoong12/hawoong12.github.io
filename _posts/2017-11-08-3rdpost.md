 ---
layout: post
title: set google tag manager
---
 
구글 태그 매니저를 이용한 구글 애널리틱스 PC쇼핑몰에 연동을 시도 했다.
내가 알고 있던 공통 header jsp는 공통 header가 아니였다.......
태그매니저의 스크립트는 어떤 페이지에서든 해당 스크립트가 들어가야하는 방식으로 
기존에 인입시 애널리틱스 스크립트를 한번만 호출하면 되는 방식과는 다른 것 같았다. 
메인 header jsp에 스크립트를 넣고 메인페이지가 아닌 다른 모든 페이지에서 호출하는 header jsp를 찾아내서
태그매니저 스크립트를 넣었더니 애널리틱스에서 정상적으로 데이터를 확인할 수 있었다. 
물론 운영서버에 올리기 전에 디버그 모드를 특정 사람에게만 노출되게 하는 방법은 따로 찾아봐야할 것 같다.(그냥 해당 운영자 id로 login한 크롬에서만 디버그모드가 나타날 것 같은 느낌이지만?)
또 기존 애널리틱스 스크립트를 넣었을 때랑 태그매니저를 통한 애널리틱스 연동과의 데이터 차이도 운영서버에 올렸을 때 어떤 점이 다른지 찾아봐야겠다.

일단 PC쇼핑몰은 했지만 모바일앱,웹에는 기존 방식으로 태그매니저를 통한 애널리틱스 연동이 되지 않는 것을 확인이 되었기 때문에
다시 열심히 구글링을 해보자.
